import{d as B,i as h,j as D,r as n,k as T,c as x,l as e,w as o,m as q,n as m,U as R,p as E,q as G,o as y,s as a,t,v as _,x as g,y as k,_ as L}from"./index-240dddf8.js";const A=r=>({null:"未知",man:"男",girl:"女"})[r],H=r=>(E("data-v-b2f0a808"),r=r(),G(),r),J={class:"user-page w-full flex h-full"},K={class:"user-table w-[calc(100%-15rem)] ml-5"},M={class:"p-2 bg-white"},O={class:"table-header flex"},Q=H(()=>m("div",{class:"table-header-title w-40 text-left"},"用户列表",-1)),W={class:"table-header-actives flex-1 flex justify-end"},X={name:"systemUser"},Y=B({...X,setup(r){const p=h(),l=D({name:"",account:"",deptId:1,pageNum:1,pageSize:10,total:0,loading:!0}),N=h([]),v=h([]),S=()=>{p.value&&(p.value.resetFields(),l.pageNum=1,d())},V=()=>{},d=async()=>{l.loading=!0;const c=await R.query();v.value=c.data.list,l.total=c.data.total,l.pageNum=c.data.pageNum,l.pageSize=c.data.pageSize,l.loading=!1},C=c=>{l.pageNum=c.page,d()};return d(),(c,u)=>{const U=n("el-tree"),z=n("el-scrollbar"),w=n("el-input"),b=n("el-form-item"),f=n("el-button"),F=n("el-form"),s=n("el-table-column"),I=n("el-table"),j=n("pagination"),P=T("loading");return y(),x("div",J,[e(z,{class:"dept-tree w-60 bg-white"},{default:o(()=>[e(U,{data:N.value,class:"h-full",props:{children:"children",label:"name"},"default-expand-all":"",onNodeClick:V},null,8,["data"])]),_:1}),q((y(),x("div",K,[e(F,{inline:"",model:l,ref_key:"searchFormRef",ref:p,"label-width":"120px",class:"bg-white mb-4 flex items-center pt-4 pb-4"},{default:o(()=>[e(b,{label:a(t)("table.account"),prop:"account"},{default:o(()=>[e(w,{modelValue:l.account,"onUpdate:modelValue":u[0]||(u[0]=i=>l.account=i),clearable:"",placeholder:a(t)("search.accountPlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(b,{label:a(t)("table.nickname")},{default:o(()=>[e(w,{modelValue:l.name,"onUpdate:modelValue":u[1]||(u[1]=i=>l.name=i),clearable:"",placeholder:a(t)("search.nicknamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(b,null,{default:o(()=>[e(f,{type:"primary",class:"ml-4",onClick:d},{default:o(()=>[_(g(a(k)("search")),1)]),_:1}),e(f,{onClick:S},{default:o(()=>[_(g(a(k)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"]),m("div",M,[m("div",O,[Q,m("div",W,[e(f,{type:"primary"},{default:o(()=>[_("新增")]),_:1})])]),e(I,{data:v.value,border:""},{default:o(()=>[e(s,{"show-overflow-tooltip":"",label:a(t)("table.nickname"),prop:"name"},null,8,["label"]),e(s,{"show-overflow-tooltip":"",label:a(t)("table.account"),prop:"account"},null,8,["label"]),e(s,{"show-overflow-tooltip":"",label:a(t)("table.avatar"),prop:"avatar"},null,8,["label"]),e(s,{"show-overflow-tooltip":"",label:a(t)("table.email"),prop:"email"},null,8,["label"]),e(s,{"show-overflow-tooltip":"",label:a(t)("table.mobile"),prop:"mobile"},null,8,["label"]),e(s,{"show-overflow-tooltip":"",label:a(t)("table.phone"),prop:"phone"},null,8,["label"]),e(s,{"show-overflow-tooltip":"",label:a(t)("table.age"),prop:"age"},null,8,["label"]),e(s,{"show-overflow-tooltip":"",label:a(t)("table.sex")},{default:o(({row:i})=>[_(g(a(A)(i.sex)),1)]),_:1},8,["label"])]),_:1},8,["data"]),e(j,{total:l.total,page:l.pageNum,size:l.pageSize,onPagination:C},null,8,["total","page","size"])])])),[[P,l.loading]])])}}});const $=L(Y,[["__scopeId","data-v-b2f0a808"]]);export{$ as default};
